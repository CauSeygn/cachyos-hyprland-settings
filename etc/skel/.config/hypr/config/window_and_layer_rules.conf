##############################
### WINDOWS AND WORKSPACES ###
##############################

# See https://wiki.hypr.land/Configuring/Window-Rules/ for more
# See https://wiki.hypr.land/Configuring/Workspace-Rules/ for workspace rules

# Ignore maximize requests from apps. You'll probably like this.
windowrule {
  name = ignore-maximize
  suppress_event = maximize
  match:class = .*
}

# Fix some dragging issues with XWayland:
windowrule {
  name = xwayland-drag
  no_focus = on
  match:class = ^$
  match:title = ^$
  match:xwayland = 1
  match:float = 1
  match:fullscreen = 0
  match:pin = 0
}

###############################
### INDIVIDUAL WINDOW RULES ###
###############################

# Flameshot
# If you use multiple monitors, uncomment the monitor rule and set this to your leftmost monitor ID,
# otherwise you have to move your cursor to the leftmost monitor before executing flameshot.
# Also modify the 1 in the size rule according to their positioning/size (and potentially the move coordinates if using a strange setup with different heights, the goal is to encompass your entire multi-monitor area).
windowrule { 
  name = flameshot
  stay_focused = on
  float = on
  rounding = 0
  # monitor = 
  move = (0) (0)
  pin = on
  size = ((monitor_w*1)) ((monitor_h*1))
  border_size = 0
  match:class = ^(flameshot)$
  match:title = ^(flameshot)$
}

# Discord
windowrule {
  name = discord-browser-streaming
  workspace = special:void silent
  match:initial_title = discord.com is sharing a window.
}

# KeepassXC
windowrule {
  name = keepassxc
  no_screen_share = on
  match:initial_class = org.keepassxc.KeePassXC
}

# ProtonVPN
windowrule {
  name = protonvpn
  no_screen_share = on
  match:initial_class = protonvpn-app
}

############################
### Grouped Window Rules ###
############################

# Art Programs
windowrule {
  name = aseprite
  opacity = 1 override
  match:initial_class = Aseprite
}

windowrule {
  name = gimp
  opacity = 1 override
  match:initial_class = gimp
}

windowrule {
  name = krita
  opacity = 1 override
  match:initial_class = krita
}

# Dialog windows
windowrule {
  name = dialog-windows-1
  center = on
  float = on
  size = ((monitor_w*0.7)) ((monitor_h*0.9))
  match:title = ^(Open File)(.*)$
}

windowrule {
  name = dialog-windows-2
  center = on
  float = on
  size = ((monitor_w*0.7)) ((monitor_h*0.9))
  match:title = ^(Volume Control)(.*)$
}

windowrule {
  name = dialog-windows-3
  center = on
  float = on
  size = ((monitor_w*0.7)) ((monitor_h*0.9))
  match:title = ^(Select a File)(.*)$
}

windowrule {
  name = dialog-windows-4
  center = on
  float = on
  size = ((monitor_w*0.7)) ((monitor_h*0.9))
  match:title = ^(Choose wallpaper)(.*)$
}

windowrule {
  name = dialog-windows-5
  center = on
  float = on
  size = ((monitor_w*0.7)) ((monitor_h*0.9))
  match:title = ^(Open Folder)(.*)$
}

windowrule {
  name = dialog-windows-6
  center = on
  float = on
  size = ((monitor_w*0.7)) ((monitor_h*0.9))
  match:title = ^(Save screenshot)(.*)$
}

windowrule {
  name = dialog-windows-7
  center = on
  float = on
  size = ((monitor_w*0.7)) ((monitor_h*0.9))
  match:title = ^(Save As)(.*)$
}

windowrule {
  name = dialog-windows-8
  center = on
  float = on
  size = ((monitor_w*0.7)) ((monitor_h*0.9))
  match:title = ^(Library)(.*)$
}

windowrule {
  name = dialog-windows-9
  center = on
  float = on
  size = ((monitor_w*0.7)) ((monitor_h*0.9))
  match:title = ^(File Upload)(.*)$
}

windowrule {
  name = dialog-windows-10
  center = on
  float = on
  size = ((monitor_w*0.7)) ((monitor_h*0.9))
  match:title = ^(.*)(wants to save)$
}

windowrule {
  name = dialog-windows-11
  center = on
  float = on
  size = ((monitor_w*0.7)) ((monitor_h*0.9))
  match:title = ^(.*)(wants to open)$
}

windowrule {
  name = dialog-windows-12
  center = on
  float = on
  size = (782) (677)
  match:title = ^(Choose Application)(.*)$
}

# Picture-in-Picture
windowrule {
  name = picture-in-picture
  float = on
  keep_aspect_ratio = on
  move = ((monitor_w*0.73)) ((monitor_h*0.72))
  size = (monitor_w*0.25)
  pin = on
  match:title = ^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
}

###################
### LAYER RULES ###
###################

layerrule {
  name = hyprpicker
  no_anim = on
  match:namespace = hyprpicker
}

layerrule {
  name = selection
  no_anim = on
  match:namespace = selection
}

# Noctalia
# Ignore alpha suggestion is (opacity-1)%, be sure that your dim opacity% is below this value, if you do not want the whole screen to blur.
layerrule {
    name = noctalia-blur
    match:namespace = noctalia-background-.*$
    ignore_alpha = 0.59
    blur = true
    blur_popups = true
}
